<!--
 Copyright 2025 Mitch Spano

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<template>
  <div class="slds-builder-header_container container">
    <header class="slds-builder-header">
      <div class="slds-builder-header__item">
        <div
          class="slds-builder-header__item-label slds-media slds-media_center"
        >
          <div class="slds-media__figure">
            <span
              class="slds-icon_container slds-icon-utility-builder slds-current-color"
            >
              <lightning-icon
                icon-name="utility:builder"
                size="x-small"
                alternative-text="Skyline"
                title="Skyline"
              ></lightning-icon>
            </span>
          </div>
          <div class="slds-media__body">Skyline Dev 2</div>
        </div>
      </div>
      <nav class="slds-builder-header__item slds-builder-header__nav">
        <ul class="slds-builder-header__nav-list">
          <li
            class="slds-builder-header__nav-item slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open"
          >
            <button
              class="slds-button slds-builder-header__item-action slds-media slds-media_center"
              aria-haspopup="true"
              aria-expanded="false"
              title="Click to open menu"
              onclick={handleNavigationClick}
            >
              <span class="slds-media__figure">
                <span
                  class="slds-icon_container slds-icon-utility-apps slds-current-color"
                >
                  <lightning-icon
                    icon-name="utility:apps"
                    size="x-small"
                    alternative-text="Apps"
                    title="Apps"
                  ></lightning-icon>
                </span>
              </span>
              <span class="slds-media__body">
                <span class="slds-truncate" title="Apps">Apps</span>
                <span
                  class="slds-icon_container slds-icon-utility-chevrondown slds-current-color slds-m-left_small"
                >
                  <lightning-icon
                    icon-name="utility:chevrondown"
                    size="x-small"
                    alternative-text="Down"
                    title="Down"
                  ></lightning-icon>
                </span>
              </span>
            </button>
            <template lwc:if={showNavigation}>
              <div
                class="slds-dropdown slds-dropdown_right slds-dropdown_actions"
              >
                <ul
                  class="slds-dropdown__list"
                  role="menu"
                  aria-label="Show More"
                >
                  <li
                    class="slds-dropdown__header slds-truncate"
                    role="presentation"
                    tabindex="0"
                  >
                    Navigate to
                  </li>
                  <template for:each={pages} for:item="page">
                    <li
                      class="slds-dropdown__item"
                      role="presentation"
                      key={page}
                    >
                      <a
                        href="#"
                        role="menuitem"
                        tabindex="-1"
                        data-page={page}
                        onclick={handlePageClick}
                      >
                        <span
                          class="slds-truncate"
                          title={page}
                          data-page={page}
                          >{page}</span
                        >
                      </a>
                    </li>
                  </template>
                </ul>
              </div>
            </template>
          </li>
        </ul>
      </nav>
      <div class="slds-builder-header__item slds-has-flexi-truncate">
        <h1 class="slds-builder-header__item-label">
          <span class="slds-truncate" title="Page Type">{currentPage}</span>
        </h1>
      </div>
      <div class="slds-builder-header__item slds-builder-header__utilities">
        <div class="slds-builder-header__utilities-item">
          <a
            href="#"
            class="slds-builder-header__item-action slds-media slds-media_center"
            onclick={handleSettingsClick}
          >
            <span class="slds-media__figure">
              <span
                class="slds-icon_container slds-icon-utility-settings slds-current-color"
              >
                <lightning-icon
                  icon-name="utility:settings"
                  size="x-small"
                  alternative-text="Settings"
                  title="Settings"
                ></lightning-icon>
              </span>
            </span>
            <span class="slds-media__body">
              <span class="slds-truncate" title="Link">Settings</span>
            </span>
          </a>
        </div>
      </div>
    </header>
  </div>
</template>
